title: Labels
object:
  name: Label object
  attrs:
    - name: id
      value: 1234
      description: Label id
    - name: name
      value: Project X
      description: Label name
    - name: order
      value: 10
      description: Order of label (position in the UI)

endpoints:


  - name: Get all labels
    verb: GET
    url: labels
    returns: JSON-encoded array of all user labels
    shell_sample: >
      curl -X GET "$root/labels?token=$my_token"
    python_sample: >
      >>> print requests.get(root + "/labels", args={"token": my_token}).json()
    output_sample: >
      [
        {"id": 123, "name": "Project X", "order": 10}
      ]

  - name: Create new label
    verb: POST
    url: labels
    post_attrs:
      - name: name
        description: Name of the label
      - name: order
        description: Label order
    returns: newly created label
    shell_sample: >
      curl -X POST "$root/labels?token=$my_token"
          --data '{"name": "Movies to watch"}'
          -H "Content-Type: application/json"
          -H "X-Request-Id: 29290B91-F437-42EB-8AA9-C6814CAF16B5"
    python_sample: >
      requests.post(root + "/labels",
          args={"token": my_token},
          data=json.dumps({"name": "Project X"}),
          headers={
              "Content-Type": "application/json",
              "X-Request-Id": "29290B91-F437-42EB-8AA9-C6814CAF16B5",
          }
      ).json()
    output_sample: >
      {"id": 123, "name": "Project X", "order": 10}


  - name: Get specific label
    verb: GET
    url: labels/<label_id>
    returns: label by id
    shell_sample: >
      curl -X GET "$root/labels/1234?token=$my_token"
    python_sample: >
      requests.get(root + "/labels/1234", args={"token": my_token}).json()
    output_sample: >
      {"id": 123, "name": "Project X", "order": 10}

  - name: Update specific label
    verb: POST
    url: labels/<label_id>
    post_attrs:
      - name: name
        description: New name of the label (optional)
      - name: order
        description: Label order (optional)
    returns: HTTP status code 204 and empty body
    shell_sample: >
      curl -X POST "$root/labels/1234?token=$my_token"
          --data '{"name": "Project Y"}'
          -H "Content-Type: application/json"
          -H "X-Request-Id: 29290B91-F437-42EB-8AA9-C6814CAF16B5"
    python_sample: >
      requests.post(root + "/labels/1234",
          args={"token": my_token},
          data=json.dumps({"name": "Project Y"}),
          headers={
              "Content-Type": "application/json",
              "X-Request-Id": "29290B91-F437-42EB-8AA9-C6814CAF16B5",
          }
      )

  - name: Delete specific label
    verb: DELETE
    url: labels/<label_id>
    returns: empty response
    shell_sample: >
      curl -X DELETE "$root/labels/1234?token=$my_token"
    python_sample: >
      requests.delete(root + "/labels/1234", args={"token": my_token})
